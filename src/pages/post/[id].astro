---
import { fetchPosts, type PostModel } from "../../api/post";
import RootLayout from "../../components/layouts/RootLayout.astro";

type Props = {
  post: PostModel;
};

export const prerender = true;

export async function getStaticPaths() {
  const posts = await fetchPosts();

  return posts.map((post) => ({
    params: { id: post.id.toString() },
    props: { post },
  }));
}

const { post } = Astro.props;
---

<RootLayout title={post.title}>
  <header class="p-8 space-y-4">
    <h1 class="text-5xl font-bold first-letter:uppercase">{post.title}</h1>
    <div class="text-gray-300">Post ID: {post.id}</div>
    <div class="text-gray-300">User ID: {post.userId}</div>
  </header>
  <main class="px-8">
    <h5 class="text-xl font-medium">Descripci√≥n:</h5>
    <p class="text-lg text-gray-300">{post.body}</p>
  </main>
</RootLayout>
